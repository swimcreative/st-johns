jQuery(function(e){"use strict";var t=window.KAIJU||{};t.skipLinkFix=function(){var e=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,t=navigator.userAgent.toLowerCase().indexOf("opera")>-1,i=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(e||t||i)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t),e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus()))},!1)},t.navigation=function(){function t(){e(".fixed-header").css("padding-top",e(".site-header").height())}function i(){e(".site-header").offset().top>50?(e(".site-header").addClass("minimize"),e("body").trigger("minimized")):e(".site-header").removeClass("minimize")}var a=e(".menu-toggle"),n=e(".site-navigation");a.click(function(){e("body").toggleClass("lock"),a.toggleClass("closer"),n.toggleClass("expanded").slideToggle(250),n.hasClass("expanded")?a.attr("aria-expanded","true"):a.attr("aria-expanded","false")}),e(window).on("minimized",function(){}),e(window).scroll(i),e(window).resize(t),t(),i(),e(".search-toggle button").click(function(){return!!e(".search-toggle").hasClass("open")||(e(".search-toggle").addClass("open"),e(".menu-item").addClass("hideAway"),!1)}),e(window).click(function(){e(".search-toggle").removeClass("open"),e(".menu-item").removeClass("hideAway")}),e(".search-toggle").click(function(e){e.stopPropagation()})},t.webfont=function(){try{Typekit.load({async:!0})}catch(e){}},t.widgets=function(){e(".widget_rss").length>=1&&e(".rssSummary").each(function(){var t=e(this).text(),i=70,a=t.substr(0,i);a=a.substr(0,Math.min(a.length,a.lastIndexOf(" "))),a=a.replace(/\s\s+/g," ")+"&hellip;",e(this).html(a)}),e(".widget_archive, .widget_categories").length>=1&&e(".widget_archive li, .widget_categories li").each(function(){var t=e(this).html();t=t.replace("(",'<small class="count">'),t=t.replace(")","</small>"),e(this).html(t),"1"===e(".count",this).text()?e(".count",this).append(" Post"):e(".count",this).append(" Posts")}),e(".widget_tag_cloud").length>=1&&e(".widget_tag_cloud a").each(function(){var t=e(this).attr("title");t=t.replace(" topics",""),t=t.replace(" topic",""),e(this).append(' &nbsp;<span class="badge">'+t+"</span>")})},t.fauxWidth=function(){function t(t){t.each(function(){a=t.parent().offset(),e(this).css({width:"100vw","margin-left":"-"+a.left+"px"})})}function i(){var t=e(".layout-sidebar .entry-header");t.length>=1&&e("#secondary").css({"margin-top":t.height()})}var a,n=e(".fauxwidth, .page .entry-header, .single .entry-header, .size-fullscreen, .comments-area").not(".page-builder .entry-header, .layout-sidebar .comments-area");n.length>=1&&(t(n),i(),e(window).resize(function(){t(n),i()}))},t.smoothScroll=function(){function t(t){if(a=i.height()-1,e(window).width()>720)if(e(window).scrollTop()<50){e(".site-header").clone().appendTo("body").css("z-index","-1000").css("transition","none").addClass("minimize cloned");var n=e(".cloned").outerHeight();e(".cloned").remove()}else n=a;else n=0;l.animate({scrollTop:e(t).offset().top-n},850,"easeInOutQuint")}var i,a,n,s,o,l,c,d;l=e("html, body"),i=e(".site-header"),o=i.find(".menu-item > a"),d=e('a[href*="#"]').not(".top-link a"),d.on("click",function(i){if(d.hasClass("redirect"));else{if(i.preventDefault(),n=e(this),s=e(n.attr("href")),setTimeout(function(){o.blur()},1e3),!(l.find(s).length>=1))return!1;t(s)}}),c=window.location.hash,c&&e("body").hasClass("home")&&l.find(c).length>=1&&t(c),i.find(d).each(function(){var t=e(this).attr("href");0==l.find(t).length&&e(this).attr("href","/"+t).addClass("redirect")})},t.menuHighlight=function(){function t(t){var s=e(document).scrollTop()+l;c.each(function(){if(c.hasClass("redirect"));else if(i=e(this),a=e(i.attr("href")),n.find(a).length>=1){var t=a.position().top+a.outerHeight();a.position().top<s&&s<t?(c.removeClass(o),i.addClass(o)):i.removeClass(o)}})}var i,a,n=e("html, body"),s=e(".site-header"),o="link-active",l=s.height(),c=s.find('.menu-item > a[href*="#"]');e(document).on("scroll",t)},t.parallax=function(){function t(){if(e(".kaiju-parallax").length>0){var t=e(".parallax-background"),i=e(".kaiju-parallax"),a=e(i).offset().top,n=e(window).scrollTop(),s=a-n,o=(e(t).offset().top,window.innerHeight,.35);t.css("top",-(s*o)+"px")}}e(".kaiju-parallax").length&&t(),e(window).scroll(function(i){e(".kaiju-parallax").length&&t()})},t.videoBackground=function(){function t(){s.each(function(){e(this).width()/e(this).height()<a?e(this).find("video").removeClass().addClass("max-height"):e(this).find("video").removeClass().addClass("max-width")})}var i,a,n,s=e(".video-background");s.length>=1&&s.each(function(){i=e(this).data("vid"),n=e("<video />",{id:"video",src:i,type:"video/mp4",controls:!1,autoplay:!0,loop:!0,muted:!0}),n.appendTo(e(this)),a=n.width()/n.height(),t()}),e(window).resize(t)},t.slider=function(){e(".hero_block").each(function(){0!==e(this).find(".hero-slider").length&&e(this).addClass("has-slider")});e(".hero-slider").flickity({cellAlign:"left",contain:!0,groupCells:!0});e(".hero-slider").each(function(){e(this).find(".flickity-prev-next-button, .flickity-page-dots").wrapAll('<div class="flickity-nav-wrapper">')})},t.carousel=function(){var t,i,a,n=function(){e(".media-block-item").each(function(){e(this).height(e(this).width()),i=e("img",this),a=e("a",this),t=i.attr("width")/i.attr("height"),a.width()/a.height()<t?i.removeClass().addClass("max-height"):i.removeClass().addClass("max-width")})};n(),e(window).resize(n);var s=e(".media-block-carousel, .dynamic-block-carousel").flickity({cellAlign:"left",contain:!0,groupCells:!0});e(".dynamic-block-carousel, .media-block-carousel").each(function(){e(this).find(".flickity-prev-next-button, .flickity-page-dots").wrapAll('<div class="flickity-nav-wrapper">')});var o=function(t){var i=e(t).data("img");e(".block-lightbox").removeClass("close").append('<img src="'+i+'">'),e(t).data("height")>e(t).data("width")&&e(".block-lightbox img").addClass("max-height")};e(document).on("click","#close",function(){event.preventDefault(),e(".block-lightbox").addClass("close").find("img").remove()}),s.on("staticClick.flickity",function(t,i,a,n){a&&o(e(a).find("a"))}),e(".media-block-grid .media-block-item a").click(function(){o(e(this))})},t.toggles=function(){e(".toggle-block-tabs, .toggle-block-accordion").each(function(t){e(this).children("li").first().children("a").addClass("is-active").next().addClass("is-open").show()}),e(".toggle-block-tabs").on("click","li > a.tab-link",function(t){if(e(this).hasClass("is-active"))t.preventDefault();else{t.preventDefault();var i=e(this).closest(".toggle-block");i.find(".is-open").removeClass("is-open").toggle(),e(this).next().toggleClass("is-open").toggle(),i.find(".is-active").removeClass("is-active"),e(this).addClass("is-active")}}),e(".toggle-block-accordion").on("click","li > a.tab-link",function(t){if(e(this).hasClass("is-active"))t.preventDefault();else{t.preventDefault();var i=e(this).closest(".toggle-block");i.find(".is-open").removeClass("is-open").toggle(),e(this).next().toggleClass("is-open").toggle(),i.find(".is-active").removeClass("is-active"),e(this).addClass("is-active")}}),e(".toggle-block-expander").on("click","li > a.tab-link",function(t){t.preventDefault(),e(this).next().toggleClass("is-open").toggle(),e(this).toggleClass("is-active")})},e(document).ready(function(){t.skipLinkFix(),t.navigation(),t.menuHighlight(),t.widgets(),t.fauxWidth(),t.parallax(),t.videoBackground(),t.slider(),t.carousel(),t.toggles()})});